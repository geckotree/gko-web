<!doctype html>
<!--[if lte IE 9]> <html lang="en" class="no-enhance no-js lt-ie10"> <![endif]-->
<!--[if gt IE 9]><!--> <html lang="en" class="no-enhance no-js"> <!—<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" href="">
		<title>Improving front-end performance - Geckotree</title>

		<!-- Add to homescreen for Chrome on Android -->
    	<meta name="mobile-web-app-capable" content="yes">
    	<meta name="application-name" content="">
    	<link rel="icon" sizes="192x192" href="/assets/img/brand-icons/chrome-touch-icon-192x192.png">

    	<!-- Add to homescreen for Safari on iOS -->
	    <meta name="apple-mobile-web-app-capable" content="yes">
	    <meta name="apple-mobile-web-app-status-bar-style" content="black">
	    <meta name="apple-mobile-web-app-title" content="">
	    <link rel="apple-touch-icon" href="/assets/img/brand-icons/apple-152.png">

	    <!-- Tile icon for Win8 (144x144 + tile color) -->
	    <meta name="msapplication-TileImage" content="/assets/img/brand-icons/mstile-144.png">
	    <meta name="msapplication-TileColor" content="#57B275">
	    <meta name="theme-color" content="#57B275">

	    <!-- Open graph - http://ogp.me -->
		<meta property="og:title" content="" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="" />
		<meta property="og:image" content="/assets/img/brand-icons/apple-152.png" />

		<!-- Twitter card - https://dev.twitter.com/docs/cards/markup-reference -->
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:title" content="" />
		<meta name="twitter:description" content="" />
		<meta name="twitter:url" content="" />
		<meta name="twitter:image" content="/assets/img/brand-icons/apple-152.png" />
		<meta name="twitter:site" content="@" />
		<meta name="twitter:creator" content="@" />

	    <!-- Font loading -->
		<script>@@loadFont</script>

	    <!--[if gt IE 8]><!-->
			<link rel="stylesheet" href="assets/build/css/style.css">
		<!--<![endif]-->

	    <!--[if lt IE 9]>
			<script src="assets/bower_components/html5shiv/dist/html5shiv.min.js"></script>
			<link rel="stylesheet" href="assets/build/css/ie.css">
		<![endif]-->
	</head>
	<body class="c-page">
		<header class="c-header" role="banner">
			<div class="c-header__inner">
				<a href="index.html" class="c-header__logo">
					<svg class="icon icon--logo">
                        <use xlink:href="#icon--logo"></use>
                    </svg>
				</a>

				<button class="c-header__toggle-menu-button" id="toggle-menu" aria-haspopup="true" data-module="Toggle" data-toggle="js-nav">
					<svg class="icon icon--menu">
                        <use xlink:href="#icon--menu"></use>
                    </svg>
				</button>

				<nav class="c-nav js-nav" aria-labelledby="toggle-menu" role="navigation">
					<div class="c-nav__list">
						<div class="c-nav__item">
							<a href="#" class="c-nav__link">work 
								<svg class="icon icon--briefcase">
		                            <use xlink:href="#icon--briefcase"></use>
		                        </svg>
							</a>
						</div>
						<div class="c-nav__item">
							<a href="#" class="c-nav__link">services 
								<svg class="icon icon--coffee">
		                            <use xlink:href="#icon--coffee"></use>
		                        </svg>
							</a>
						</div>
						<div class="c-nav__item">
							<a href="#" class="c-nav__link">about 
								<svg class="icon icon--heart">
		                            <use xlink:href="#icon--heart"></use>
		                        </svg>
							</a>
						</div>
						<div class="c-nav__item--align-right">
							<div class="c-nav__item">
								<a href="/blog" class="c-nav__link">blog 
									<svg class="icon icon--chat">
			                            <use xlink:href="#icon--chat"></use>
			                        </svg>
								</a>
							</div>
							<div class="c-nav__item">
								<a href="#" class="c-nav__link c-nav__link--button c-button--primary">planner 
									<svg class="icon icon--feather">
			                            <use xlink:href="#icon--feather"></use>
			                        </svg>
								</a>
							</div>
						</div>
					</div>
				</nav>
			</div>
		</header>

		<main class="c-page__content" role="main">
			<article class="c-article" itemscope itemtype="http://schema.org/BlogPosting">
				<div class="o-section o-wrap o-wrap--x-large">
					<header class="c-article__header">
						<h1 class="c-article__heading tera" itemprop="headline">Improving front-end <span class="u-highlight-text">performance</span></h1>

						<ul class="c-listing__meta-data">
							<li class="c-listing__meta-data__item">
								<time datetime="2015-05-2409:33:38" pubdate="pubdate">24<sup>th</sup> May 2015</time>
								<meta itemprop="datePublished" content="2015-05-24">
							</li>
							<li class="c-listing__meta-data__item u-hide-mobile" itemprop="author">Rob Simpson</li>
							<li class="c-listing__meta-data__item">9mins to read</li>
						</ul>
					</header>

					<div class="o-wrap o-wrap--medium s-free-content" itemprop="articleBody">
						<p class="intro">With the latest update to GoSquared we set ourselves the target of achieving a smooth 60 frames per second for all the core UI and animation, across all devices.</p>
						
						<p>Last year I wrote a post, Need for Speed, where I shared my workflows and techniques along with the tools involved in the development of my site. Since then my site has gone through another redesign, and although I made various workflow and server-side improvements, I gave front-end performance extra attention. Here’s what I did, why I did it, and the tools I used to optimize front-end performance on my site.</p>

						<ol>
							<li>
								<a href="">Minimize Requests</a>
							</li>
							<li>
								<a href="">Compression/Optimization</a>
								<ul>
									<li>
										<a href="">CSS and JavaScript</a>
									</li>
									<li>
										<a href="">Images</a>
									</li>
								</ul>
							</li>
							<li>
								<a href="">Page Rendering</a>
								<ul>
									<li>
										<a href="">CSS</a>
									</li>
									<li>
										<a href="">JavaScript</a>
									</li>
									<li>
										<a href="">Webfonts</a>
									</li>
								</ul>
							</li>
							<li>
								<a href="">Other</a>
							</li>
							<li>
								<a href="">Round Up</a>
							</li>
							<li>
								<a href="">Resources</a>
							</li>
						</ol>

						<h2>Minimize Requests</h2>

						<p>Every asset required to render the page (external CSS or JS files, webfonts, images, etc.) as your site loads is an additional HTTP request. The average website makes 93 requests!</p>

						<p>My goal was to minimize HTTP requests. One way is to compile or concatenate (combining/merging) CSS and JS into one file each. Automating this process (e.g. using a build tool like <a href="">Grunt</a> or <a href="">Gulp</a>) is ideal, but at the very least should be done manually for production.</p>

						<p>Third-party scripts are common culprits for making additional requests—many make more than 1 request to grab additional files such as scripts, images or CSS. Your browser’s built-in developer tools can help you sniff out the offenders.</p>

						<figure class="o-media">
						    <img src="../../assets/build/img/blog/article-img.jpg" alt="" itemprop="image">
						    <figcaption>Google Chrome Developer Tools’ Network tab</figcaption>
						</figure>

						<p>For example, Facebook’s script makes 3 requests. A test environment with social sharing scripts from a handful of popular social sites shows that they quickly add up:</p>

						<div class="o-table o-table--scroll">
						    <table>
						    	<caption>Source: <a href="">Responsible Social Share Links</a></caption>
						        <thead>
						            <tr>
						                <th>Site</th>
						                <th>Files</th>
						                <th>Size</th>
						            </tr>
						        </thead>
						        <tbody>
						            <tr>
						                <td>Google+</td>
						                <td>1</td>
						                <td>15.1KB</td>
						            </tr>
						            <tr>
						                <td>Facebook</td>
						                <td>3</td>
						                <td>73.3KB</td>
						            </tr>
						            <tr>
						                <td>LinkedIn</td>
						                <td>2</td>
						                <td>47.7KB</td>
						            </tr>
						            <tr>
						                <td>Pinterest</td>
						                <td>3</td>
						                <td>12.9KB</td>
						            </tr>
						            <tr>
						                <td>Tumblr</td>
						                <td>1</td>
						                <td>1.5KB</td>
						            </tr>
						            <tr>
						                <td>Twitter</td>
						                <td>4</td>
						                <td>52.7KB</td>
						            </tr>
						            <tr>
						                <td>Total</td>
						                <td>14</td>
						                <td>203.2KB</td>
						            </tr>
						        </tbody>
						    </table>
						</div>

						<p>That’s an additional 14 HTTP requests and 203.2KB. Instead, I went with “share-intent” URLs, which are basically links used to pass and construct data into a share and can be used to create social share links using just HTML. It allowed me to strip away the third-party scripts I was using for sharing, which accounted for 7 requests. I wrote more on this matter on Responsible Social Share Links.</p>

						<p>Evaluate each third-party script and determine its importance. There may be a way to accomplish what it does without depending on the third-party. You may lose some functionality (e.g. like/tweet/share count) but ask the question: “Is the like count that important?”</p>

						<h2>Compression / Optimization</h2>

						<p>Now that I had found ways to minimize requests made, I began looking for ways to cut fat off the meat. The smaller the files, the faster they load. The <a href="">average page size is 1,950KB</a>. Here’s the content breakdown:</p>

						<p>find ways to cut weight where I could. <a href="">What Does My Site Cost?</a> built by <a href="">Tim Kadlec</a>, is a wonderful tool to help you test and visualize what it costs to visit your site from around the world based on the weight of your site.</p>

						<h3>CSS and JavaScript</h3>

						<p>Compressing/minifying your stylesheets and JavaScript files can noticeably decrease file sizes—I saved up to 56% from one file in compression alone.</p>

						<div class="o-table o-table--scroll">
						    <table>
						        <thead>
						            <tr>
						                <th></th>
						                <th>Before Compression</th>
						                <th>After</th>
						                <th>Savings</th>
						            </tr>
						        </thead>
						        <tbody>
						            <tr>
						                <td>CSS</td>
						                <td>135KB</td>
						                <td>104KB</td>
						                <td>23.0%</td>
						            </tr>
						            <tr>
						                <td>JS</td>
						                <td>16KB</td>
						                <td>7KB</td>
						                <td>56.3%</td>
						            </tr>
						        </tbody>
						    </table>
						</div>

						<p>I write CSS using the <a href="">BEM (Block, Element, Modifier) methodology</a>, and it can result in long, verbose class names. Refactoring some of my code to be less verbose (“navigation” to “nav”, “introduction” to “intro”) gave me some savings but wasn’t nearly as noticeable as before-vs-after compression, which I expected.</p>

						<div class="o-table o-table--scroll">
						    <table>
						        <thead>
						            <tr>
						                <th>Verbose Classes</th>
						                <th>Less Verbose</th>
						                <th>Savings</th>
						            </tr>
						        </thead>
						        <tbody>
						            <tr>
						                <td>104KB</td>
						                <td>97KB</td>
						                <td>6.7%</td>
						            </tr>
						        </tbody>
						    </table>
						</div>

						<p>I also re-evaluated the need for jQuery. Of the 135KB of minified JavaScript, about 96KB was the jQuery library alone—71%! There wasn’t a lot that relied on jQuery, so I took the time to refactor my code. I shaved off 122KB by stripping away jQuery and rewriting it in vanilla JavaScript, which cut the file size down to 13KB minified.</p>

						<div class="o-table o-table--scroll">
						    <table>
						        <thead>
						            <tr>
						                <th>jQuery</th>
						                <th>Vanilla JS</th>
						                <th>Savings</th>
						            </tr>
						        </thead>
						        <tbody>
						            <tr>
						                <td>135KB</td>
						                <td>13KB</td>
						                <td>122KB (90%)</td>
						            </tr>
						        </tbody>
						    </table>
						</div>

						<p>Since then I managed to strip away even more (7KB compressed), and the script rounds out to only 0.365KB when compressed and gzipped.</p>

						<pre><code>&lt;head&gt;
									&lt;style&gt;
										/* inline critical CSS */
									&lt;/style&gt;
								&lt;/head&gt;

								&lt;script&gt;
									// inline the loadCSS script
									function loadCSS( href, before, media, callback ){ ... }
									loadCSS( '/path/to/stylesheet.css' );
								&lt;/script&gt;</code></pre>

						<p>JavaScript can also be render-blocking; therefore its delivery should also be optimized, which can be done the following ways:</p>

						<ol>
							<li>Inlining small scripts.</li>
							<li>Loading external scripts at the bottom of the document.</li>
							<li>Deferring the execution of scripts using the <code>defer</code> attribute.</li>
							<li>Asynchronously loading possible scripts using the <code>async</code> attribute.</li>
						</ol>

						<p><code>defer</code> downloads the script as the HTML is parsed but waits to execute once the page has been rendered. defer support is pretty good; however is reported to be inconsistent and unreliable; therefore is best to both <code>defer</code> and have them at the bottom of the document.</p>

						<h2>Resources</h2>

						<p>Chock full of useful resources to get you neck deep in performance.</p>

						<ul>
							<li>
								<a href="">Google PageSpeed Insights</a>
							</li>
							<li>
								<a href="">SpeedCurve</a>
							</li>
							<li>
								<a href="">WebPagetest</a>
							</li>
							<li>
								<a href="">What Does My Site Cost?</a>
							</li>
							<li>
								<a href="">Front-end performance for web designers and front-end developers</a>
							</li>
							<li>
								<a href="">How we make RWD sites load fast as heck</a>
							</li>
							<li>
								<a href="">Improving Smashing Magazine’s Performance: A Case Study</a>
							</li>
							<li>
								<a href="">More Weight Doesn’t Mean More Wait</a>
							</li>
							<li>
								<a href="">Optimizing Performance</a>
							</li>
							<li>
								<a href="">RWD Bloat Part I and Part II</a>
							</li>
							<li>
								<a href="">Google PageSpeed Module</a>
							</li>
							<li>
								<a href="">Responsible Social Share Links</a>
							</li>
							<li>
								<a href="">Inlining critical CSS for first-time visits</a>
							</li>
						</ul>
					</div>
				</div>
				
				<div class="o-wrap o-wrap--large c-listings--side-by-side">
					<article class="o-wrap c-listing c-listing--side-by-side c-listing--prev" itemscope itemtype="http://schema.org/NewsArticle">
						<a href="" class="c-listing__link c-listing--side-by-side__link c-listing--prev__link" itemprop="url" title="">
							<h2 class="c-listing__heading c-listing--side-by-side__heading gamma" itemprop="name">An introduction to creating your own <span class="u-highlight-text">boilerplate</span></h2>

							<ul class="c-listing__meta-data c-listing--side-by-side__list-meta">
								<li class="c-listing__meta-data__item c-listing--side-by-side__item-meta">Prev Post</li>
								<li class="c-listing__meta-data__item c-listing__meta-data__item--visited">
									<span class="c-listing__visited-text">Seen</span>
									<span class="c-listing__visited-badge">
										<svg class="icon icon--check">
											<use xlink:href="#icon--check"></use>
										</svg>
									</span>
								</li>
							</ul>
						</a>
					</article>

					<article class="o-wrap c-listing c-listing--side-by-side c-listing--next" itemscope itemtype="http://schema.org/NewsArticle">
						<a href="" class="c-listing__link c-listing--side-by-side__link c-listing--next__link" itemprop="url" title="">
							<h2 class="c-listing__heading c-listing--side-by-side__heading gamma" itemprop="name">A fresh start at <span class="u-highlight-text">geckotree</span></h2>

							<ul class="c-listing__meta-data c-listing--side-by-side__meta-data">
								<li class="c-listing__meta-data__item c-listing--side-by-side__meta-data__item">Next Post</li>
								<li class="c-listing__meta-data__item c-listing__meta-data__item--visited">
									<span class="c-listing__visited-text">Seen</span>
									<span class="c-listing__visited-badge">
										<svg class="icon icon--check">
											<use xlink:href="#icon--check"></use>
										</svg>
									</span>
								</li>
							</ul>
						</a>
					</article>
				</div>
			</article>
		</main>

		<footer class="c-footer" role="contentinfo">
			<div class="o-section o-wrap u-center-content">
				<div class="c-footer__planner">
					<h3 class="alpha">Interest? Let's get <span class="u-highlight-text">started</span></h3>
					<a href="#" class="c-button c-button--primary">planner</a>
				</div>
				
				<ul class="c-footer__social">
					<li class="c-footer__social__item">
						<a href="https://twitter.com/geckotree" class="c-footer__social__link" target="_blank">
							<svg class="icon icon--twitter">
								<use xlink:href="#icon--twitter"></use>
							</svg>
							<span class="u-hide-text">Twitter</span>
						</a>
					</li>
					<li class="c-footer__social__item">
						<a href="https://dribbble.com/geckotree" class="c-footer__social__link" target="_blank">
							<svg class="icon icon--dribbble">
								<use xlink:href="#icon--dribbble"></use>
							</svg>

							<span class="u-hide-text">Dribbble</span>
						</a>
					</li>
					<li class="c-footer__social__item">
						<a href="https://instagram.com/geckotree/" class="c-footer__social__link" target="_blank">
							<svg class="icon icon--instagram">
								<use xlink:href="#icon--instagram"></use>
							</svg>

							<span class="u-hide-text">Instagram</span>
						</a>
					</li>
				</ul>

				<span class="c-footer__label">Made with <svg class="icon icon--heart"><use xlink:href="#icon--heart"></use></svg> in the UK</span>
			</div>
		</footer>

		<div class="u-icons">@@icons</div>
		<script src="assets/build/js/main.js"></script>
		<script>@@googleAnalytics</script>
	</body>
</html>